{"ast":null,"code":"/*! firebase-admin v9.6.0 */\n\"use strict\";\n/*!\n * Copyright 2019 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.TenantManager = void 0;\n\nvar auth_api_request_1 = require(\"./auth-api-request\");\n\nvar auth_1 = require(\"./auth\");\n\nvar tenant_1 = require(\"./tenant\");\n\nvar error_1 = require(\"../utils/error\");\n\nvar validator = require(\"../utils/validator\");\n/**\n * Data structure used to help manage tenant related operations.\n * This includes:\n * - The ability to create, update, list, get and delete tenants for the underlying project.\n * - Getting a TenantAwareAuth instance for running Auth related operations (user mgmt, provider config mgmt, etc)\n *   in the context of a specified tenant.\n */\n\n\nvar TenantManager =\n/** @class */\nfunction () {\n  /**\n   * Initializes a TenantManager instance for a specified FirebaseApp.\n   * @param app The app for this TenantManager instance.\n   */\n  function TenantManager(app) {\n    this.app = app;\n    this.authRequestHandler = new auth_api_request_1.AuthRequestHandler(app);\n    this.tenantsMap = {};\n  }\n  /**\n   * Returns a TenantAwareAuth instance for the corresponding tenant ID.\n   *\n   * @param tenantId The tenant ID whose TenantAwareAuth is to be returned.\n   * @return The corresponding TenantAwareAuth instance.\n   */\n\n\n  TenantManager.prototype.authForTenant = function (tenantId) {\n    if (!validator.isNonEmptyString(tenantId)) {\n      throw new error_1.FirebaseAuthError(error_1.AuthClientErrorCode.INVALID_TENANT_ID);\n    }\n\n    if (typeof this.tenantsMap[tenantId] === 'undefined') {\n      this.tenantsMap[tenantId] = new auth_1.TenantAwareAuth(this.app, tenantId);\n    }\n\n    return this.tenantsMap[tenantId];\n  };\n  /**\n   * Looks up the tenant identified by the provided tenant ID and returns a promise that is\n   * fulfilled with the corresponding tenant if it is found.\n   *\n   * @param tenantId The tenant ID of the tenant to look up.\n   * @return A promise that resolves with the corresponding tenant.\n   */\n\n\n  TenantManager.prototype.getTenant = function (tenantId) {\n    return this.authRequestHandler.getTenant(tenantId).then(function (response) {\n      return new tenant_1.Tenant(response);\n    });\n  };\n  /**\n   * Exports a batch of tenant accounts. Batch size is determined by the maxResults argument.\n   * Starting point of the batch is determined by the pageToken argument.\n   *\n   * @param maxResults The page size, 1000 if undefined. This is also the maximum\n   *     allowed limit.\n   * @param pageToken The next page token. If not specified, returns users starting\n   *     without any offset.\n   * @return A promise that resolves with\n   *     the current batch of downloaded tenants and the next page token. For the last page, an\n   *     empty list of tenants and no page token are returned.\n   */\n\n\n  TenantManager.prototype.listTenants = function (maxResults, pageToken) {\n    return this.authRequestHandler.listTenants(maxResults, pageToken).then(function (response) {\n      // List of tenants to return.\n      var tenants = []; // Convert each user response to a Tenant.\n\n      response.tenants.forEach(function (tenantResponse) {\n        tenants.push(new tenant_1.Tenant(tenantResponse));\n      }); // Return list of tenants and the next page token if available.\n\n      var result = {\n        tenants: tenants,\n        pageToken: response.nextPageToken\n      }; // Delete result.pageToken if undefined.\n\n      if (typeof result.pageToken === 'undefined') {\n        delete result.pageToken;\n      }\n\n      return result;\n    });\n  };\n  /**\n   * Deletes the tenant identified by the provided tenant ID and returns a promise that is\n   * fulfilled when the tenant is found and successfully deleted.\n   *\n   * @param tenantId The tenant ID of the tenant to delete.\n   * @return A promise that resolves when the tenant is successfully deleted.\n   */\n\n\n  TenantManager.prototype.deleteTenant = function (tenantId) {\n    return this.authRequestHandler.deleteTenant(tenantId);\n  };\n  /**\n   * Creates a new tenant with the properties provided.\n   *\n   * @param tenantOptions The properties to set on the new tenant to be created.\n   * @return A promise that resolves with the newly created tenant.\n   */\n\n\n  TenantManager.prototype.createTenant = function (tenantOptions) {\n    return this.authRequestHandler.createTenant(tenantOptions).then(function (response) {\n      return new tenant_1.Tenant(response);\n    });\n  };\n  /**\n   * Updates an existing tenant identified by the tenant ID with the properties provided.\n   *\n   * @param tenantId The tenant identifier of the tenant to update.\n   * @param tenantOptions The properties to update on the existing tenant.\n   * @return A promise that resolves with the modified tenant.\n   */\n\n\n  TenantManager.prototype.updateTenant = function (tenantId, tenantOptions) {\n    return this.authRequestHandler.updateTenant(tenantId, tenantOptions).then(function (response) {\n      return new tenant_1.Tenant(response);\n    });\n  };\n\n  return TenantManager;\n}();\n\nexports.TenantManager = TenantManager;","map":{"version":3,"sources":["/Users/piyushmaheshwari/Downloads/github/Bridgeorg/node_modules/firebase-admin/lib/auth/tenant-manager.js"],"names":["Object","defineProperty","exports","value","TenantManager","auth_api_request_1","require","auth_1","tenant_1","error_1","validator","app","authRequestHandler","AuthRequestHandler","tenantsMap","prototype","authForTenant","tenantId","isNonEmptyString","FirebaseAuthError","AuthClientErrorCode","INVALID_TENANT_ID","TenantAwareAuth","getTenant","then","response","Tenant","listTenants","maxResults","pageToken","tenants","forEach","tenantResponse","push","result","nextPageToken","deleteTenant","createTenant","tenantOptions","updateTenant"],"mappings":"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","sourcesContent":["/*! firebase-admin v9.6.0 */\n\"use strict\";\n/*!\n * Copyright 2019 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TenantManager = void 0;\nvar auth_api_request_1 = require(\"./auth-api-request\");\nvar auth_1 = require(\"./auth\");\nvar tenant_1 = require(\"./tenant\");\nvar error_1 = require(\"../utils/error\");\nvar validator = require(\"../utils/validator\");\n/**\n * Data structure used to help manage tenant related operations.\n * This includes:\n * - The ability to create, update, list, get and delete tenants for the underlying project.\n * - Getting a TenantAwareAuth instance for running Auth related operations (user mgmt, provider config mgmt, etc)\n *   in the context of a specified tenant.\n */\nvar TenantManager = /** @class */ (function () {\n    /**\n     * Initializes a TenantManager instance for a specified FirebaseApp.\n     * @param app The app for this TenantManager instance.\n     */\n    function TenantManager(app) {\n        this.app = app;\n        this.authRequestHandler = new auth_api_request_1.AuthRequestHandler(app);\n        this.tenantsMap = {};\n    }\n    /**\n     * Returns a TenantAwareAuth instance for the corresponding tenant ID.\n     *\n     * @param tenantId The tenant ID whose TenantAwareAuth is to be returned.\n     * @return The corresponding TenantAwareAuth instance.\n     */\n    TenantManager.prototype.authForTenant = function (tenantId) {\n        if (!validator.isNonEmptyString(tenantId)) {\n            throw new error_1.FirebaseAuthError(error_1.AuthClientErrorCode.INVALID_TENANT_ID);\n        }\n        if (typeof this.tenantsMap[tenantId] === 'undefined') {\n            this.tenantsMap[tenantId] = new auth_1.TenantAwareAuth(this.app, tenantId);\n        }\n        return this.tenantsMap[tenantId];\n    };\n    /**\n     * Looks up the tenant identified by the provided tenant ID and returns a promise that is\n     * fulfilled with the corresponding tenant if it is found.\n     *\n     * @param tenantId The tenant ID of the tenant to look up.\n     * @return A promise that resolves with the corresponding tenant.\n     */\n    TenantManager.prototype.getTenant = function (tenantId) {\n        return this.authRequestHandler.getTenant(tenantId)\n            .then(function (response) {\n            return new tenant_1.Tenant(response);\n        });\n    };\n    /**\n     * Exports a batch of tenant accounts. Batch size is determined by the maxResults argument.\n     * Starting point of the batch is determined by the pageToken argument.\n     *\n     * @param maxResults The page size, 1000 if undefined. This is also the maximum\n     *     allowed limit.\n     * @param pageToken The next page token. If not specified, returns users starting\n     *     without any offset.\n     * @return A promise that resolves with\n     *     the current batch of downloaded tenants and the next page token. For the last page, an\n     *     empty list of tenants and no page token are returned.\n     */\n    TenantManager.prototype.listTenants = function (maxResults, pageToken) {\n        return this.authRequestHandler.listTenants(maxResults, pageToken)\n            .then(function (response) {\n            // List of tenants to return.\n            var tenants = [];\n            // Convert each user response to a Tenant.\n            response.tenants.forEach(function (tenantResponse) {\n                tenants.push(new tenant_1.Tenant(tenantResponse));\n            });\n            // Return list of tenants and the next page token if available.\n            var result = {\n                tenants: tenants,\n                pageToken: response.nextPageToken,\n            };\n            // Delete result.pageToken if undefined.\n            if (typeof result.pageToken === 'undefined') {\n                delete result.pageToken;\n            }\n            return result;\n        });\n    };\n    /**\n     * Deletes the tenant identified by the provided tenant ID and returns a promise that is\n     * fulfilled when the tenant is found and successfully deleted.\n     *\n     * @param tenantId The tenant ID of the tenant to delete.\n     * @return A promise that resolves when the tenant is successfully deleted.\n     */\n    TenantManager.prototype.deleteTenant = function (tenantId) {\n        return this.authRequestHandler.deleteTenant(tenantId);\n    };\n    /**\n     * Creates a new tenant with the properties provided.\n     *\n     * @param tenantOptions The properties to set on the new tenant to be created.\n     * @return A promise that resolves with the newly created tenant.\n     */\n    TenantManager.prototype.createTenant = function (tenantOptions) {\n        return this.authRequestHandler.createTenant(tenantOptions)\n            .then(function (response) {\n            return new tenant_1.Tenant(response);\n        });\n    };\n    /**\n     * Updates an existing tenant identified by the tenant ID with the properties provided.\n     *\n     * @param tenantId The tenant identifier of the tenant to update.\n     * @param tenantOptions The properties to update on the existing tenant.\n     * @return A promise that resolves with the modified tenant.\n     */\n    TenantManager.prototype.updateTenant = function (tenantId, tenantOptions) {\n        return this.authRequestHandler.updateTenant(tenantId, tenantOptions)\n            .then(function (response) {\n            return new tenant_1.Tenant(response);\n        });\n    };\n    return TenantManager;\n}());\nexports.TenantManager = TenantManager;\n"]},"metadata":{},"sourceType":"script"}